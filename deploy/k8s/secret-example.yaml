# Kubernetes Secret 配置示例
# 使用以下命令创建 Secret:
# kubectl create secret generic openidaas-secrets --from-env-file=.env.example --dry-run=client -o yaml > k8s/secret.yaml
# 或手动编辑此文件并使用: kubectl apply -f k8s/secret.yaml

apiVersion: v1
kind: Secret
metadata:
  name: openidaas-secrets
  namespace: openidaas
type: Opaque
stringData:
  # ============================================
  # 数据库配置
  # ============================================
  DB_USERNAME: "openidaas"
  DB_PASSWORD: "your_secure_password_here"

  # ============================================
  # Redis 配置
  # ============================================
  REDIS_PASSWORD: "your_redis_password"

  # ============================================
  # JWT 配置
  # ============================================
  JWT_SECRET: "your_jwt_secret_key_at_least_32_characters_long"
  JWT_EXPIRATION: "3600"
  JWT_REFRESH_EXPIRATION: "86400"
  JWT_ISSUER: "OpenIDaaS"

  # ============================================
  # OAuth2 配置
  # ============================================
  OAUTH2_ISSUER: "https://auth.openidaas.com/auth"

  # ============================================
  # Nacos 配置
  # ============================================
  NACOS_USERNAME: "nacos"
  NACOS_PASSWORD: "nacos_password"

  # ============================================
  # 社交登录配置
  # ============================================
  GITHUB_CLIENT_ID: "your_github_client_id"
  GITHUB_CLIENT_SECRET: "your_github_client_secret"

  GOOGLE_CLIENT_ID: "your_google_client_id"
  GOOGLE_CLIENT_SECRET: "your_google_client_secret"

  WECHAT_APP_ID: "your_wechat_app_id"
  WECHAT_APP_SECRET: "your_wechat_app_secret"

  MICROSOFT_CLIENT_ID: "your_microsoft_client_id"
  MICROSOFT_CLIENT_SECRET: "your_microsoft_client_secret"

---
# TLS Secret 示例（用于 HTTPS）
apiVersion: v1
kind: Secret
metadata:
  name: openidaas-tls
  namespace: openidaas
type: kubernetes.io/tls
data:
  # TLS 证书和私钥需要使用 base64 编码
  # cat tls.crt | base64 -w 0
  tls.crt: LS0tLS1CRUdJTi...
  # cat tls.key | base64 -w 0
  tls.key: LS0tLS1CRUdJTi...
