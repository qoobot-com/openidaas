import{v as V,ax as P,ay as R,k as w,ac as d,y as c,D as _,E as e,F as t,S as s,U as r,G as p,R as m,r as C}from"./vue-vendor-BojGzKWy.js";import{u as G}from"./user-DoM5hWmZ.js";import{E as K}from"./element-plus-CD8Xv7xU.js";import{_ as O}from"./index-MeEtieb6.js";import"./axios-C0Zqfgkc.js";const F={class:"user-detail-container"},j={class:"card-header"},q={key:0,style:{"margin-top":"20px"}},z={key:1,style:{"margin-top":"20px"}},H={key:2,style:{"margin-top":"20px"}},J=V({__name:"UserDetail",setup(Q){const N=P(),T=R(),I=G(),a=C(null),f=C(!1),v=Number(N.params.id),M=async()=>{try{f.value=!0;const n=await I.getUserById(v);a.value=n}catch(n){console.error("获取用户详情失败:",n),K.error("获取用户详情失败")}finally{f.value=!1}},S=()=>{T.go(-1)},B=n=>({ACTIVE:"success",LOCKED:"warning",DISABLED:"danger",DELETED:"info"})[n||""]||"info",h=n=>({ACTIVE:"正常",LOCKED:"锁定",DISABLED:"禁用",DELETED:"删除"})[n||""]||n||"",A=n=>({0:"未知",1:"男",2:"女"})[n||0]||"未知";return w(()=>{v&&M()}),(n,o)=>{const L=d("el-button"),u=d("el-descriptions-item"),b=d("el-tag"),g=d("el-descriptions"),i=d("el-table-column"),y=d("el-table"),U=d("el-card");return c(),_("div",F,[e(U,null,{header:t(()=>[p("div",j,[o[1]||(o[1]=p("span",null,"用户详情",-1)),e(L,{onClick:S},{default:t(()=>[...o[0]||(o[0]=[s("返回",-1)])]),_:1})])]),default:t(()=>{var D,E,x;return[e(g,{column:2,border:""},{default:t(()=>[e(u,{label:"用户名"},{default:t(()=>{var l;return[s(r((l=a.value)==null?void 0:l.username),1)]}),_:1}),e(u,{label:"邮箱"},{default:t(()=>{var l;return[s(r((l=a.value)==null?void 0:l.email),1)]}),_:1}),e(u,{label:"手机号"},{default:t(()=>{var l;return[s(r((l=a.value)==null?void 0:l.mobile),1)]}),_:1}),e(u,{label:"状态"},{default:t(()=>{var l;return[e(b,{type:B((l=a.value)==null?void 0:l.status)},{default:t(()=>{var k;return[s(r(h((k=a.value)==null?void 0:k.status)),1)]}),_:1},8,["type"])]}),_:1}),e(u,{label:"创建时间"},{default:t(()=>{var l;return[s(r((l=a.value)==null?void 0:l.createdAt),1)]}),_:1}),e(u,{label:"更新时间"},{default:t(()=>{var l;return[s(r((l=a.value)==null?void 0:l.updatedAt),1)]}),_:1})]),_:1}),(D=a.value)!=null&&D.profile?(c(),_("div",q,[o[2]||(o[2]=p("h3",null,"个人信息",-1)),e(g,{column:2,border:""},{default:t(()=>[e(u,{label:"姓名"},{default:t(()=>[s(r(a.value.profile.fullName),1)]),_:1}),e(u,{label:"昵称"},{default:t(()=>[s(r(a.value.profile.nickname),1)]),_:1}),e(u,{label:"性别"},{default:t(()=>[s(r(A(a.value.profile.gender)),1)]),_:1}),e(u,{label:"生日"},{default:t(()=>[s(r(a.value.profile.birthDate),1)]),_:1}),e(u,{label:"员工编号"},{default:t(()=>[s(r(a.value.profile.employeeId),1)]),_:1})]),_:1})])):m("",!0),(E=a.value)!=null&&E.departments&&a.value.departments.length>0?(c(),_("div",z,[o[3]||(o[3]=p("h3",null,"部门信息",-1)),e(y,{data:a.value.departments,border:""},{default:t(()=>[e(i,{prop:"deptName",label:"部门名称"}),e(i,{prop:"positionName",label:"职位"}),e(i,{prop:"isPrimary",label:"是否主部门"},{default:t(({row:l})=>[e(b,{type:l.isPrimary?"success":"info"},{default:t(()=>[s(r(l.isPrimary?"是":"否"),1)]),_:2},1032,["type"])]),_:1})]),_:1},8,["data"])])):m("",!0),(x=a.value)!=null&&x.roles&&a.value.roles.length>0?(c(),_("div",H,[o[4]||(o[4]=p("h3",null,"角色信息",-1)),e(y,{data:a.value.roles,border:""},{default:t(()=>[e(i,{prop:"roleName",label:"角色名称"}),e(i,{prop:"expireTime",label:"过期时间"})]),_:1},8,["data"])])):m("",!0)]}),_:1})])}}}),ee=O(J,[["__scopeId","data-v-10ad7140"]]);export{ee as default};
